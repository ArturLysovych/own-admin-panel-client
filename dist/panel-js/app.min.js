const countPage=document.getElementById("count-page"),prevBtn=document.getElementById("prevBtn"),nextBtn=document.getElementById("nextBtn"),ordersContainer=document.getElementById("orders-container"),ordersCount=document.getElementById("orders-count"),allPrice=document.getElementById("all-price"),lastOrderTime=document.getElementById("last-order-time"),logOut=document.getElementById("log-out");let pagintationCounter=1;countPage.innerText=pagintationCounter,axios.get("/get-orders").then(e=>{let t=e.data,n=t[t.length-1],r=t.reduce((e,t)=>e+parseFloat(t.price),0),o=t.sort((e,t)=>e.client.localeCompare(t.client)),i=t.sort((e,t)=>parseFloat(e.price)-parseFloat(t.price)),a=t.slice().reverse(),c=d(t);function d(t){var n=[];for(let e=0;e<t.length;e+=2)n.push(t.slice(e,e+2));return n}function l(e){ordersContainer.innerHTML="";for(var t of e){var n=document.createElement("div");n.setAttribute("class","order"),n.innerHTML=`
                <div class="left-part">
                    <img src="${t.img}" alt="">
                </div>
                <div class="right-part">
                    <h2>${t.good}</h2>
                    <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Natus corporis perferendis reprehenderit. Quia dolorum possimus minus voluptatibus quibusdam! Velit, harum.</p>
                    <p>Count: <span>${t.count} pcs</span></p>
                    <p>Client: <span>${t.client}</span></p>
                    <p>Ordered: <span>${t.orderTime}</span></p>
                    <h4 style="align-self: center;">Costs: <span class="price">$${t.price}</span></h4>
                </div>
            `,ordersContainer.appendChild(n)}}l(c[pagintationCounter-1]),document.getElementById("sort-clientName").addEventListener("click",function(){l((c=d(o))[pagintationCounter-1])}),document.getElementById("sort-price").addEventListener("click",function(){l((c=d(i))[pagintationCounter-1])}),document.getElementById("sort-date").addEventListener("click",function(){l((c=d(a))[pagintationCounter-1])}),nextBtn.addEventListener("click",function(){var e;e=c,pagintationCounter<=e.length-1&&(pagintationCounter++,countPage.innerText=pagintationCounter,l(e[pagintationCounter-1]))}),prevBtn.addEventListener("click",function(){var e;e=c,1<pagintationCounter&&(pagintationCounter--,countPage.innerText=pagintationCounter,l(e[pagintationCounter-1]))}),allPrice.innerText="$"+r,lastOrderTime.innerText=n.orderTime,ordersCount.innerText=t.length}).catch(e=>{console.error("Error getting info: "+e)}),logOut.addEventListener("click",function(){window.location.href="/"}),document.querySelector(".open-sort").addEventListener("click",function(){var e=document.querySelector(".sort-container");e.style.left="0px"===e.style.left?"-320px":"0px"});