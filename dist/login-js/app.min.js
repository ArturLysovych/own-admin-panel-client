const form=document.getElementById("form");let formType;document.addEventListener("click",function(e){e.target.matches("#form h2")&&(formType="login"===form.getAttribute("data-mode")?"register":"login",form.setAttribute("data-mode",formType),e.target.innerText=formType.toUpperCase()+" FORM",e="register"===formType?'<input type="email" placeholder="email" name="email" id="email" required>':"",form.innerHTML=`
            <h2>${formType.toUpperCase()} FORM</h2>
            <input type="text" placeholder="login" name="login" id="login" required>
            <input type="password" placeholder="password" name="password" id="password" required>
            ${e}
            <button type="submit">Submit</button>
        `,form.style.transform="scale(1.05)",setTimeout(()=>{form.style.transform="scale(1)"},200),form.reset())}),form.addEventListener("submit",function(e){e.preventDefault();e=new FormData(form);const t=e.get("login"),r=e.get("password");e=e.get("email"),e={login:t,password:r,email:e};axios.post(`/${formType}-admin`,e).then(e=>{alert(e.data),"Successfully login"==e.data&&(form.reset(),window.location.href=`/user?login=${t}&password=`+r)}).catch(e=>{console.error(e)})});